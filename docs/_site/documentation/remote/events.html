    <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
 



<link rel="shortcut icon" href="//www.eclipse.org/smarthome/img/favicon.png"></link>
<title>Eclipse SmartHome - A Flexible Framework for the Smart
	Home</title>
 
<!-- CSS -->
<link href="http://www.eclipse.org/smarthome/css/materialize.css" type="text/css" rel="stylesheet"
	media="screen,projection" />
<link href="http://www.eclipse.org/smarthome/css/highlight.github.css" type="text/css" rel="stylesheet"
    	media="screen,projection" />
<link href="../../css/styles.css" rel="stylesheet" />

<!-- Font -->
<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700'
	rel='stylesheet' type='text/css' />
    
</head>
<body class="documentation">
	<div id="header" class="navbar-fixed">
		<nav role="navigation">
			<div class="container">
				<div class="nav-wrapper">
					<a href="../../index.html"><img id="logo" src="//www.eclipse.org/smarthome/img/eclipse_logo.png" /></a>
					<a href="#" data-activates="nav-mobile" class="button-collapse"><i
						class="mdi-navigation-menu"></i></a>
					<ul class="right hide-on-med-and-down">
						<li><a href="../../getting-started.html">Getting Started</a></li>
						<li><a href="../../documentation/index.html">Documentation</a></li>
						<li><a href="http://github.com/eclipse/smarthome">GitHub</a></li>
					</ul>
					<ul id="nav-mobile" class="side-nav">
                        <li><a href="../../index.html">Home</a></li>
						<li><a href="../../getting-started.html">Getting Started</a></li>
						<li><a href="../../documentation/index.html">Documentation</a></li>
						<li><a href="http://github.com/eclipse/smarthome">GitHub</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</div>
    
    <section id="documentation" class="text content-wrapper">
        <div class="container">
            <div class="side-nav-wrapper">
                





<ul class="nav">
    <li>
        <a href="../../documentation/index.html">Overview</a>
    </li>
    <li>
        <a href="../../documentation/concepts/index.html">Concepts</a>
        <ul>
            <li>
                 <a href="../../documentation/concepts/index.html">Overview</a>
            </li>
            <li>
                 <a href="../../documentation/concepts/extensions.html">Extensions</a>
            </li>
            <li>
                 <a href="../../documentation/concepts/internationalization.html">Internationalization</a>
            </li>
            <li>
                 <a href="../../documentation/concepts/thing-status.html">Thing Status</a>
            </li>
    	</ul>
    </li>
	<li>
        <a href="../../documentation/binding-development/how-to.html">Binding Development</a>
        <ul>
        	<li>
                 <a href="../../documentation/binding-development/how-to.html">How To</a>
            </li>
            <li>
                 <a href="../../documentation/binding-development/thing-definition.html">Thing Definition</a>
            </li>
            <li>
                 <a href="../../documentation/binding-development/thing-handler.html">Thing Handler</a>
            </li>
            <li>
                 <a href="../../documentation/binding-development/discovery.html">Discovery</a>
            </li>
            <li>
                 <a href="../../documentation/binding-development/xml-reference.html">XML Reference Guide</a>
            </li>
			<li>
                 <a href="../../documentation/binding-development/dependencies.html">Dependencies</a>
            </li>
            <li>
                 <a href="../../documentation/binding-development/docs.html">Documentation</a>
            </li>
            <li>
                 <a href="../../documentation/binding-development/faq.html">FAQ</a>
            </li>
        </ul>    
    </li>
	<li>
        <a href="../../documentation/remote/events.html">Remote Access</a>
        <ul>
        	<li>
                 <a href="../../documentation/remote/events.html">Events (SSE)</a>
            </li>
        </ul>    
    </li>
    <li>
        <a href="../../documentation/configuration/things.html">Configuration</a>
        <ul>
            <li>
                 <a href="../../documentation/configuration/things.html">Thing DSL</a>
            </li>
        </ul>    
    </li>
    <li>
        <a href="../../documentation/contribute/contributing.html">Contribute</a>
        <ul>
            <li>
                 <a href="../../documentation/contribute/contributing.html">Contributing</a>
            </li>
            <li>
                 <a href="../../documentation/contribute/ide.html">IDE</a>
            </li>
            <li>
                 <a href="../../documentation/contribute/guidelines.html">Guidelines</a>
            </li>
			<li>
                 <a href="../../documentation/contribute/testing.html">Testing</a>
            </li>
        </ul>    
    </li>
</ul>
            </div>    
            <div class="content">  
	            
<h1 id="remote-events">Remote events</h1>

<p>In order for developers to receive notice of important events in Eclipse SmartHome they are exposed using the Server Sent Events(SSE) standard.<br />
To subscribe to events a developer can listen to <strong>/services/events</strong> (or <strong>/rest/events</strong> by default. The base context path can be changed using OSGi configuration admin for the service.pid com.eclipsesource.jaxrs.connector and the property root).<br />
In general any SSE Consumer API can be used(for example Jersey’s https://jersey.java.net/documentation/latest/sse.html#d0e10392 or HTML5 EventSource Object) to read from the event stream.</p>

<h2 id="events">Events</h2>
<p>Currently the following events are available:</p>

<ul>
  <li>smarthome/items/added - an item was added to the item registry;</li>
  <li>smarthome/items/removed - an item was removed from the item registry;</li>
  <li>smarthome/items/updated - an item was updated in the item registry;</li>
  <li>smarthome/things/added - a thing was added to the thing registry;</li>
  <li>smarthome/things/removed - a thing was removed from the thing registry;</li>
  <li>smarthome/things/updated - a thing was updated in the thing registry;</li>
  <li>smarthome/inbox/added - a discovery result was added to the inbox;</li>
  <li>smarthome/inbox/removed - a discovery result was removed from the inbox;</li>
  <li>smarthome/inbox/updated - a discovery result was updated in the inbox;</li>
  <li>smarthome/update - an item update event was sent;</li>
  <li>smarthome/command - an item command event was sent.</li>
</ul>

<p>All events are represented as JSON objects on the stream with the following format:<br />
<code>json
	{
		"eventType": "smarthome/inbox/added/12811438",
		"eventObject": [{
			"flag": "NEW",
			"label": "Yahoo weather Sevlievo, Bulgaria",
			"properties": {
				"location": "12811438"
			},
			"thingUID": "yahooweather:weather:12811438"
		}]
	}
</code></p>

<p>where <br />
- eventType - contains both the event and an identifier of the object the event is about(if any).<br />
- eventObject - array of objects that are relevant to the event. For example the <em>smarthome/items/added</em> event will include the new item that was added and the <em>smarthome/items/updated</em> event will include both old and new items.</p>

<h2 id="filtering">Filtering</h2>

<p>By default when listening to <strong>/services/events</strong> a developer will receive all events that are currently broadcasted. In order to listen for specific events the <strong>topics</strong> query parameter can be used.</p>

<p>For example while listening to <strong>/services/events?topics=smarthome/items/added</strong> a developer would receive notifications only about items that were added to the item registry.</p>

<p>The <strong>topics</strong> query parameter allows for multiple filters to be specified using a comma(,) for a separator - <strong>?topics=smarthome/items/added, smarthome/things/added</strong>.</p>

<p>In addition to that every filter may contain a wildcard character(*) replacing one(or all) of the filter components - **?topics=smarthome/items/*, smarthome/things/* **</p>

<h2 id="example">Example</h2>

<p>An example of listing events using the HTML5 EventSource object is provided below:</p>

<pre><code class="language-js">	eventSrc = new EventSource("/services/events?topics=smarthome/*/added,smarthome/inbox/removed");	

	eventSrc.addEventListener('message', function (event) {
		console.log(event.type);
		console.log(event.data);		
	});
</code></pre>


            </div>
        </div>
    </section>
    
	    



	     
    <footer class="page-footer">
		<div class="container">
			<div class="row">
				<div class="col l6 s12">
					<p class="white-text">Eclipse SmartHome is an <a href="http://iot.eclipse.org">Eclipse IoT</a>
						project</p>
					<p>
						<a href="http://iot.eclipse.org"><img src="//www.eclipse.org/smarthome/img/iot-logo.png"></a>
					</p>
				</div>
				<div class="col l6 s12" data-twttr-id="twttr-sandbox-0">
					<p class="white-text">Connect with Eclipse SmartHome</p>
					<iframe
						src="https://ghbtns.com/github-btn.html?user=eclipse&repo=smarthome&type=star&count=true&size=large"
						frameborder="0" scrolling="0" width="160px" height="30px"></iframe>
					<br /> <a class="twitter-follow-button" data-size="large"
						href="https://twitter.com/smarthome"> Follow @smarthome</a><br />
				</div>
			</div>
		</div>
		<div class="footer-copyright">
			<div class="container center">
				<a href="https://www.eclipse.org/legal/copyright.php">Copyright
					Agent</a> · <a href="https://www.eclipse.org/legal/privacy.php">Privacy</a>
				· <a href="https://www.eclipse.org/legal/termsofuse.php">Terms</a> ·
				<a href="https://www.eclipse.org/legal/">Legal</a>

			</div>
		</div>
	</footer>
    
	<script src="//www.eclipse.org/smarthome/js/jquery.min.js"></script>
	<script src="//www.eclipse.org/smarthome/js/jquery.scrollme.min.js"></script>
    <script src="//www.eclipse.org/smarthome/js/jquery.sticky.js"></script>
	<script src="//www.eclipse.org/smarthome/js/materialize.js"></script>
    <script src="//www.eclipse.org/smarthome/js/highlight.pack.js"></script>
	<script src="../../js/init.js"></script>
	<script>
        window.twttr = (function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0], t = window.twttr || {};
            if (d.getElementById(id))
                return t;
            js = d.createElement(s);
            js.id = id;
            js.src = "https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js, fjs);

            t._e = [];
            t.ready = function(f) {
                t._e.push(f);
            };

            return t;
        }(document, "script", "twitter-wjs"));
    </script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55850963-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>